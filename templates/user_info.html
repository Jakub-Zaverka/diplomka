<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>User Info</title>
    <link rel="stylesheet" href="{{ url_for('static',filename='custom.css') }}">

    <link rel="stylesheet" href="{{ url_for('static',filename='styles.css') }}">
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
    <script>
        function showError(type, msg) {
            const box = document.getElementById("errorBox" + capitalize(type));
            if (box) {
                box.textContent = msg;
                box.classList.remove("d-none");
            }
        }

        function hideError(type) {
            const box = document.getElementById("errorBox" + capitalize(type));
            if (box) {
                box.classList.add("d-none");
            }
        }

    </script>

</head>

<body>
    <!-- PC NAV Bar -->
    <nav class="navbar navbar-expand-lg bg-secondary">
        <div class="container-fluid center">

            <!-- Pravá část navbaru -->
            <ul class="navbar-nav ms-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-person-circle" viewBox="0 0 16 16">
                            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                            <path fill-rule="evenodd"
                                d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1" />
                        </svg>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end position-absolute" style="z-index: 1050;">
                        <li><a class="dropdown-item" href="/user_info">User info</a></li>
                        <li><a class="dropdown-item" href="/dashboard">Characters</a></li>
                        <li><a class="dropdown-item" href="/logout">Logout</a></li>
                    </ul>
                </li>


            </ul>
        </div>
    </nav>
    <!-- Mobile NavBar -->
    <!-- <nav class="navbar fixed-bottom bg-primary d-block d-lg-none px-5">
        <div class="container-fluid justify-content-between">
            <a class="navbar-text" href="">Stats</a>
            <a class="navbar-text" href="">Features</a>
            <a class="navbar-text" href="">Spells</a>
            <a class="navbar-text" href="">Inventory</a>
            <a class="navbar-text" href="">Notes</a>
            <a class="navbar-text" href="">Edit mode</a>
        </div>
    </nav> -->

    <div class="row container mx-auto my-3 py-1 bg-secondary shadow-lg rounded-2">
        <div class="row container p-1 my-1 ">
            <p class="h2">Username</p>
            <div class="input-group">
                <input id="usernameInput" class="form-control" disabled value="{{ data.username }}">
                <button class="btn btn-outline-warning" data-bs-toggle="modal"
                    data-bs-target="#ModalUsername">Edit</button>
            </div>
        </div>
        <div class="row container p-1 my-1 ">
            <p class="h2">Password</p>
            <div class="input-group">
                <input id="passwordInput" class="form-control" disabled value="************">
                <button class="btn btn-outline-warning" data-bs-toggle="modal"
                    data-bs-target="#ModalPassword">Edit</button>
            </div>
        </div>
        <div class="row container p-1 my-1 ">
            <p class="h2">Email</p>
            <div class="input-group">
                <input id="emailInput" class="form-control" disabled value="{{ data.email }}">
                <button class="btn btn-outline-warning" data-bs-toggle="modal"
                    data-bs-target="#ModalEmail">Edit</button>
            </div>
        </div>
    </div>

    <!-- Modal Password -->
    <div class="modal fade" id="ModalPassword">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Change Password</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div id="errorBoxPassword" class="alert alert-danger d-none" role="alert"></div>
                    <div class="row container p-1 my-1 ">
                        <p class="h3">New Password</p>
                        <div class="input-group">
                            <input class="form-control" id="newPass" type="password">
                            <button onclick="showPassword(this)" class="btn btn-outline-warning"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-eye-fill" viewBox="0 0 16 16">
                                    <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0" />
                                    <path
                                        d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7" />
                                </svg></button>
                        </div>
                        <p class="h3">Repeat New Password</p>
                        <div class="input-group">
                            <input class="form-control" id="repeatPass" type="password">
                            <button onclick="showPassword(this)" class="btn btn-outline-warning"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-eye-fill" viewBox="0 0 16 16">
                                    <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0" />
                                    <path
                                        d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7" />
                                </svg></button>
                        </div>
                        <p class="h3">Old Password</p>
                        <div class="input-group">
                            <input class="form-control" id="pass_password" type="password">
                            <button onclick="showPassword(this)" class="btn btn-outline-warning"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-eye-fill" viewBox="0 0 16 16">
                                    <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0" />
                                    <path
                                        d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7" />
                                </svg></button>
                        </div>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" onclick="passwordCheck()">Change Password</button>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal Email -->
    <div class="modal fade" id="ModalEmail">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Change email</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div id="errorBoxEmail" class="alert alert-danger d-none" role="alert"></div>
                    <div class="row container p-1 my-1 ">
                        <p class="h3">New email</p>
                        <div class="input-group">
                            <input class="form-control" id="newEmail">
                        </div>
                        <p class="h3">Repeat New email</p>
                        <div class="input-group">
                            <input class="form-control" id="repeatEmail">
                        </div>
                        <p class="h3">Current Password</p>
                        <div class="input-group ">
                            <input class="form-control" id="pass_email" type="password">
                            <button onclick="showPassword(this)" class="btn btn-outline-warning"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-eye-fill" viewBox="0 0 16 16">
                                    <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0" />
                                    <path
                                        d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7" />
                                </svg></button>
                        </div>

                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" onclick="emailCheck()">Change Email</button>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal Username -->
    <div class="modal fade" id="ModalUsername">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Change username</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div id="errorBoxUsername" class="alert alert-danger d-none" role="alert"></div>
                    <div class="row container p-1 my-1 ">
                        <p class="h3">New username</p>
                        <div class="input-group">
                            <input class="form-control" id="newUsername">
                        </div>
                        <p class="h3">Repeat New username</p>
                        <div class="input-group">
                            <input class="form-control" id="repeatUsername">
                        </div>
                        <p class="h3">Current Password</p>
                        <div class="input-group">
                            <input class="form-control" id="pass_username" type="password">
                            <button onclick="showPassword(this)" class="btn btn-outline-warning"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-eye-fill" viewBox="0 0 16 16">
                                    <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0" />
                                    <path
                                        d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7" />
                                </svg></button>
                        </div>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" onclick="usernameCheck()">Change Username</button>
                </div>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</body>

</html>